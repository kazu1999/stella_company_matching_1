# Stella Matching Service システム概要

## 1. システムの目的

Stella Matching Serviceは、AIを活用した企業マッチングプラットフォームです。企業同士のビジネス提携や情報交換を促進し、最適なパートナーシップの構築を支援します。特に、企業が抱える課題をAIが分析し、解決策を提供できる企業とのマッチングを実現します。

### 1.1 解決する課題

- **企業間のマッチング効率化**: 従来の手動での企業探索をAIが自動化
- **課題解決の支援**: 企業の課題をAIが分析し、適切な解決策を提案
- **情報の非対称性の解消**: 企業の財務状況、事業内容、課題を可視化
- **コミュニケーションの円滑化**: チャット機能による直接的なやり取りの実現

## 2. システムアーキテクチャ

### 2.1 全体構成

```
┌─────────────────────────────────────────────────┐
│            Stella Matching Service              │
├─────────────────────────────────────────────────┤
│                                                 │
│  ┌──────────────┐      ┌──────────────┐      │
│  │  一般ユーザー  │      │   管理者      │      │
│  │   画面        │      │   画面        │      │
│  └──────────────┘      └──────────────┘      │
│         │                      │              │
│         └──────────┬───────────┘              │
│                    │                          │
│         ┌──────────▼──────────┐              │
│         │   React Frontend    │              │
│         │   (TypeScript)      │              │
│         └──────────┬──────────┘              │
│                    │                          │
│         ┌──────────▼──────────┐              │
│         │  Local Storage      │              │
│         │  (認証・データ保存)   │              │
│         └────────────────────┘              │
│                    │                          │
│         ┌──────────▼──────────┐              │
│         │  AI Services        │              │
│         │  (Gemini API)       │              │
│         └────────────────────┘              │
└─────────────────────────────────────────────────┘
```

### 2.2 技術スタック

- **フロントエンド**: React 19.2.0 + TypeScript 5.8.2
- **ルーティング**: React Router DOM 7.10.0
- **ビルドツール**: Vite 6.2.0
- **スタイリング**: Tailwind CSS (CDN)
- **チャート**: Recharts 3.5.1
- **AI**: Google Gemini API（オプション）

### 2.3 現在の実装状況

- ✅ フロントエンド実装完了
- ✅ 認証機能（ローカルストレージベース）
- ✅ 管理者機能
- ⏳ バックエンド実装（今後実装予定）
- ⏳ データベース連携（今後実装予定）

## 3. 主要機能

### 3.1 一般ユーザー機能

#### 3.1.1 ダッシュボード
- **統計情報**: マッチ数、オファー数、記事投稿数の表示
- **お知らせ**: システムメンテナンス、新機能リリースなどの通知
- **サポート連絡**: フィードバックや問い合わせフォーム
- **最近のオファー**: 受信したオファーの一覧表示
- **AI推奨企業**: マッチングスコアの高い企業の表示
- **カテゴリー別おすすめ**: 財務、営業、採用、DX、マーケ、組織の各カテゴリー別の推奨企業

#### 3.1.2 AIマッチング
- **マッチングアルゴリズム**: 
  - 課題マッチング（企業の課題と解決策の適合度）
  - ノウハウ評価（技術的・事業的な相補性）
  - 財務スコア（財務状況の健全性）
- **マッチングスコア**: 0-100%の類似度表示
- **シナジー分析**: 企業間の相乗効果の説明
- **強み・共通点**: マッチングの根拠となる要素の表示

#### 3.1.3 企業一覧
- **検索機能**: 企業名・業種での検索
- **フィルター**: 業種による絞り込み
- **企業カード**: ロゴ、企業名、業種、マッチスコア、ステータス、登録日の表示

#### 3.1.4 チャット機能
- **メッセージやり取り**: 企業とのリアルタイムチャット（モック実装）
- **オファー送信**: 
  - 種類選択（ビジネス提携、情報交換）
  - 関連課題の入力
  - 期限の設定
  - 提案内容の記述
- **スレッド管理**: 複数の企業との会話を管理
- **ステータス管理**: 保留中、承認済み、拒否の状態管理

#### 3.1.5 記事機能
- **記事一覧**: AI生成記事の閲覧
- **カテゴリーフィルター**: DX推進、新規事業、マーケティング
- **ソート**: 新着順、人気順
- **記事生成**: テキスト・音声ファイルからSEO最適化された記事を自動生成

#### 3.1.6 ランキング
- **Cultive Score**: 企業の活動をスコア化
  - いいね: +5ポイント
  - オファー: +10ポイント
  - 情報更新: +5ポイント
  - 記事: +10ポイント
- **ランキング表示**: スコア順の企業ランキング
- **スコア推移**: 時系列でのスコア変化の可視化

#### 3.1.7 企業プロフィール
- **基本情報**: 企業名、ウェブサイトURL、所在地、設立年
- **財務データ**: 売上、粗利率、期間選択（年間/四半期）
- **財務諸表アップロード**: PDF、Excel形式のファイルアップロード
- **事業内容**: 詳細な事業説明
- **課題設定**: 新規顧客獲得、グローバル展開、業務効率化、採用、資金調達、マーケティングなど
- **AIインサイト**: 入力内容に基づく推奨業界や改善提案

### 3.2 管理者機能

#### 3.2.1 管理者ダッシュボード
- **統計情報**: 
  - 登録企業総数
  - 月間アクティブユーザー数
  - 累計マッチング成立数
  - 累計オファー数
  - レポート生成数
- **マッチング推移**: 過去30日間のマッチング数のグラフ表示
- **システムアラート**: 重要な通知や警告の表示
- **アクティビティログ**: 最近のシステム活動の記録

#### 3.2.2 企業管理
- **企業一覧**: 登録企業の一覧表示と検索
- **企業詳細管理**:
  - **企業情報タブ**: 基本情報、事業内容、強み、課題の編集
  - **AI課題抽出タブ**: AIが抽出した課題と解決策の確認
  - **メッセージやり取りタブ**: 企業とのメッセージ履歴（管理者は右側、企業は左側に表示）
  - **マッチング状況タブ**: マッチング先企業、マッチング日、ステータス、担当者の管理

#### 3.2.3 ユーザー管理
- **ユーザー一覧**: 登録ユーザーの一覧表示
- **検索機能**: ユーザー名、メールアドレス、企業名での検索
- **ステータス管理**: アクティブ/非アクティブの管理

#### 3.2.4 マッチング管理
- **マッチング履歴**: 過去のマッチング記録の表示
- **フィルター機能**: 期間、スコア、ステータス、企業名での絞り込み
- **AIロジック設定**: 
  - ビジネスシナジー（0-100%）
  - 技術的補完性（0-100%）
- **手動操作**: 推薦、停止、詳細確認

#### 3.2.5 オファー管理
- **オファー履歴**: すべてのオファーの一覧表示
- **フィルター**: ステータス、期間での絞り込み
- **検索**: 送信企業、受信ユーザーでの検索
- **CSVエクスポート**: データのエクスポート機能

#### 3.2.6 コンテンツ管理
- **記事一覧**: AI生成記事の管理
- **記事編集**: タイトル、内容の編集
- **公開設定**: 公開済み、下書き、非公開のステータス管理
- **月次レポート設定**: レポート生成の設定
- **SEOテンプレート**: SEO最適化のためのテンプレート管理

## 4. ユーザーフロー

### 4.1 一般ユーザーの利用フロー

```
1. ログイン/新規登録
   ↓
2. ダッシュボードで統計情報を確認
   ↓
3. 企業プロフィールを登録・更新
   - 基本情報、財務データ、事業内容、課題を入力
   ↓
4. AIマッチングで推奨企業を確認
   - マッチングスコア、シナジー、強みを確認
   ↓
5. 企業詳細を確認
   ↓
6. チャットで企業と連絡
   - メッセージのやり取り
   - オファーの送信
   ↓
7. マッチング成立
```

### 4.2 管理者の利用フロー

```
1. 管理者アカウントでログイン
   ↓
2. 管理者ダッシュボードで全体状況を確認
   ↓
3. 企業管理で企業情報を確認・編集
   - AI課題抽出の確認
   - メッセージ履歴の確認
   - マッチング状況の管理
   ↓
4. マッチング管理でマッチング状況を確認
   - AIロジックのパラメータ調整
   - 手動での推薦・停止
   ↓
5. オファー管理でオファー履歴を確認
   ↓
6. コンテンツ管理で記事を管理
```

## 5. 認証・セキュリティ

### 5.1 認証方式（現在の実装）

- **認証方法**: ローカルストレージベースの認証
- **管理者判定**: メールアドレス `admin@stella.com` とパスワード `stella` で判定
- **認証状態の管理**: 
  - `isAuthenticated`: ログイン状態
  - `isAdmin`: 管理者フラグ
  - `userEmail`: ユーザーメールアドレス
  - `userName`: ユーザー名

### 5.2 ルート保護

- **ProtectedRoute**: 認証が必要なページを保護
- **管理者専用ルート**: `/admin/*` は管理者のみアクセス可能
- **認証状態の監視**: ストレージ変更とカスタムイベントで認証状態を監視

### 5.3 今後の実装予定

- JWT トークンベースの認証
- バックエンドAPIとの連携
- セッション管理
- パスワードリセット機能

## 6. データ管理

### 6.1 現在の実装

- **データ保存**: ローカルストレージ（認証情報のみ）
- **モックデータ**: 各ページでハードコードされたモックデータを使用
- **データ永続化**: 未実装（ページリロードでリセット）

### 6.2 今後の実装予定

- データベース連携（PostgreSQL、MySQL等）
- RESTful API の実装
- データの永続化
- リアルタイムデータ同期

## 7. AI機能

### 7.1 実装済み機能

- **AIマッチング**: 企業間のマッチングスコア計算（モック実装）
- **AI記事生成**: テキスト・音声から記事を生成（Gemini API連携予定）
- **AI課題抽出**: 企業の課題を自動抽出（モック実装）
- **AIインサイト**: 企業プロフィールに基づく推奨業界の提案

### 7.2 AIマッチングアルゴリズム

1. **課題マッチング**: 企業Aの課題と企業Bの解決策の適合度を評価
2. **ノウハウ評価**: 技術的・事業的な相補性を評価
3. **財務スコア**: 財務状況の健全性を評価（A+, A, B+等）
4. **総合スコア**: 上記の要素を統合してマッチングスコアを算出

## 8. UI/UXの特徴

### 8.1 デザイン

- **モダンなUI**: Tailwind CSSによる洗練されたデザイン
- **ダークモード対応**: ライトモードとダークモードの切り替え
- **レスポンシブデザイン**: デスクトップ、タブレット、モバイルに対応
- **日本語表記**: すべての画面が日本語で表示

### 8.2 ユーザビリティ

- **直感的なナビゲーション**: サイドバーによる簡単なページ遷移
- **検索・フィルター機能**: 各ページで検索とフィルターを提供
- **エラーハンドリング**: 404ページの実装
- **ローディング状態**: 認証確認中のローディング表示

## 9. 今後の展開

### 9.1 バックエンド実装

- RESTful API の開発
- データベース設計と実装
- 認証システムの実装
- ファイルアップロード機能

### 9.2 機能拡張

- リアルタイムチャット機能（WebSocket）
- 通知システム
- メール通知機能
- レポート生成機能の実装
- データ分析・可視化の強化

### 9.3 パフォーマンス最適化

- コード分割と遅延読み込み
- 画像の最適化
- キャッシュ戦略の実装
- APIレスポンスの最適化

## 10. システムの特徴

### 10.1 強み

- **AI活用**: マッチング精度の向上
- **直感的なUI**: 使いやすいインターフェース
- **包括的な管理機能**: 管理者による柔軟な管理
- **モダンな技術スタック**: 最新のReactとTypeScriptを使用

### 10.2 制約事項（現在）

- フロントエンドのみの実装（バックエンド未実装）
- データの永続化なし（ローカルストレージのみ）
- モックデータの使用
- リアルタイム機能の制限

## 11. 開発環境

### 11.1 必要な環境

- Node.js 18以上
- npm または yarn
- ブラウザ（Chrome、Firefox、Safari、Edge）

### 11.2 開発サーバー

- ポート: 3000
- ホットリロード: 有効
- 開発モード: Vite Dev Server

### 11.3 ビルド

- 本番ビルド: `npm run build`
- プレビュー: `npm run preview`

---

**最終更新日**: 2024年
**バージョン**: 1.0.0（フロントエンド実装版）

